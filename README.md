# Martian_dice

## Описание

Марсиане! Ваша цель - совершить налет на примитивную планету"Земля" и набрать там как
можно больше местных жителей. Нам нужны следующие образцы земной фауны - куры, коровы
и люди (мы хотим разобраться, какой из этих видов на планете главный). Возможно, земляне
попытаются оказать сопротивление, но ничто не сравнится с мощью наших лучей смерти!
Заставь Марс гордиться тобой, став первым марсианином, превысившим норму отлова!

## Правила игры

### Количество игроков
от 2х и более игроков
### Комплектность

13 марсокубиков.
На каждом из них изображен:
   * 1 танк
   * 2 луча смерти
   * 1 человек
   * 1 корова
   * 1 курица

## Подготовка
```
ВКЛЮЧИТЕ СВОИ РЕГИСТРАТОРЫ. ПЕРЕД ТЕМ, КАК ВЫ ПОКИНЕТЕ ОРБИТУ
ДЛЯ СОВЕРШЕНИЯ НАЛЕТА, ПРОСЛУШАЙТЕ ПРАВИЛА ПОХИЩЕНИЯ
```
1. Выберите первого игрока и вручите иму 13 кубиков
2. Игра начинается с первого игрока и далее по часовой стрелке
3. **Раунд** состоит из ходов игроков. **Ход** игрока состоит из
одного или нескольких бросков кубика

### Ход игры:
```
НАЛЕТАЙ & НАБИРАЙ. НО ПОМНИ, ЧТО ТРЮМЫ ТВОЕГО КОРАБЛЯ МОГУТ ВМЕСТИТЬ
ТОЛЬКО ОДНУ ПАРТИЮ КАЖДОГО ВИДА, А МНОГО ЛУЧЕЙ СМЕРТИ НЕ БЫВАЕТ
```
1. Бросьте все доступные кубики. (В первом ходу это все 13 кубиков, 
в остальных - в зависимости от того, сколько кубиков вы отложили до этого). 
Если кубиков не осталось - переходите к подсчету очков.


2. Отложите все танки, добавив их к танкам, отложенным до этого


3. Из оставшихся кубиков выберите один вид (курицы, коровы, люди или
лучи смерти) и отложите в сторону все кубики этого типа. Нельзя выбрать куриц, коров или людей, если вы уже откладывали их раньше в
этом ходу. Лучи смерти можно выбирать всегда, добавляя их к ранее
отложенным. Если с учетом этих ограничений вы не можете отложить
хотя бы один кубик - ваш ход закончен, переходите к подсчету очков.


4. Вы можете либо закончить ход и перейти к подсчёту очков, либо
вернуться к шагу 1.

# Подсчет очков:
```
РАЗБЕРИТЕСЬ С ЗЕМНЫМИ ВОЙСКАМИ, ИНАЧЕ ВЕРНЕТЕСЬ ДОМОЙ С ПУСТЫМИ ЩУПАЛЬЦАМИ
ХОРОШИЙ ЗЕМЛЯНИН - ПОЙМАННЫЙ ЗЕМЛЯНИН, НО КЛЮЧ К УСПЕХУ - РАЗНООБРАЗИЕ
```
Сначала сравните количество отложенных танков и лучей смерти. Если
танков **больше**, то вы улетаете ни с чем - в этом раунде вы получаете
**ноль** очков, независимо от того, сколько других кубиков вы отложили.
Если же танков **хотя бы столько же**, сколько лучей смерти, то вы
успешно отразили атаку земных вооруженных сил и получаете очки за
свою добычу по следующим правилам:
* **1 очко за каждого человек, курицу или корову, которых вы отложили**
* **3 бонусных очка, если вы отложили хотя бы по одному землянин**  

# Конец игры
```
ДОВОЛЬНО СКОРО ВСЕ КОРАБЛИ ВЕРНУТСЯ ДОМОЙ ДЛЯ ПОДВЕДЕНИЯ ИТОГОВ. ПОБЕДИТЕЛЬ
ВОЗЬМЕТ С ПОЛКИ МАРСИАНСКИЙ ПИРОЖОК, А НИЧЬЯ РЕШИТСЯ ПОЕДИНКОМ НА ЛУЧАХ СМЕРТИ!
```
Как только кто-то набирает **25 очков** или больше, текущий раунд становится последним. Он
доигрывается до конца (а значит все игроки сделают равное число ходов), после чего побеждает
игрок с наибольшим количеством очков. В случае ничьей игроки, набравшее максимальное одинаковое 
число очков, бросают по 6 кубиков каждый, и побеждает игрок, выкинувший наибольшее количество 
лучей смерти, в случае новой неопределенности этап с лучами смерти повторяется!

# Пример текстового интерфеса
```
________ Round 1 ________

[ Roll dices phase ]

current player: Ballu

Ballu(Bot): roll dice
Tank dice(s) : 
Chosen ray dice(s) : 
Chosen dice(s) : 
Remaining dice(s) : |ray| |human| |human| |chicken| |chicken| |human| |ray| |ray| |ray| |human| |chicken| |human| |ray|

[ Choose dice phase ]


Ballu(Bot): choose chicken

[ Reroll dice(s) phase ]

Tank dice(s) : 
Chosen ray dice(s) : 
Chosen dice(s) : |chicken| |chicken| |chicken|
Remaining dice(s) : |ray| |human| |human| |human| |ray| |ray| |ray| |human| |human| |ray|

Ballu(Bot): reroll dice(s)
Tank dice(s) : |tank| |tank| |tank|
Chosen ray dice(s) : 
Chosen dice(s) : |chicken| |chicken| |chicken|
Remaining dice(s) : |ray| |cow| |cow| |cow| |human| |human| |human|

[ Choose dice phase ]


Ballu(Bot): choose human

[ Reroll dice(s) phase ]

Tank dice(s) : |tank| |tank| |tank|
Chosen ray dice(s) : 
Chosen dice(s) : |chicken| |chicken| |chicken| |human| |human| |human|
Remaining dice(s) : |ray| |cow| |cow| |cow|

Ballu(Bot): end game move

[ Game_move_end phase ]


                [ Game_state ]:
                    "current_player_index": 0, 
                    "players": [Ballu: 0, Rebecca: 0, Lui: 0, Kit: 0]

*                                                                           *
* ------------------------------------------------------------------------- *
*                                                                           *

[ Game_move_end phase ]


                [ Game_state ]:
                    "current_player_index": 3, 
                    "players": [Ballu: 11, Rebecca: 21, Lui: 25, Kit: 22]

[ Declare a winner phase ]

 Score:
      Ballu: 11 points
      Rebecca: 21 points
      Lui: 25 points
      Kit: 22 points
 Winner:
      Lui: 25 points
```
# Пример файла сохранения
```
{
    "current_player_index": 0,
    "players": [
        {
            "name": "Ballu",
            "score": 0,
            "kind": "Bot"
        },
        {
            "name": "Rebecca",
            "score": 0,
            "kind": "Bot"
        },
        {
            "name": "Lui",
            "score": 0,
            "kind": "Bot"
        },
        {
            "name": "Kit",
            "score": 0,
            "kind": "Bot"
        }
    ]
}
```